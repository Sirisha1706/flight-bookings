"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("react-element-popper"),t=require("react-date-object");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=n(e),o=n(r),d=n(t);function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){u(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function u(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function s(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function f(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,a,o=[],d=!0,i=!1;try{for(t=t.call(e);!(d=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);d=!0);}catch(e){i=!0,a=e}finally{try{d||null==t.return||t.return()}finally{if(i)throw a}}return o}(e,r)||m(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,r){if(e){if("string"==typeof e)return h(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,r):void 0}}function h(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function y(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=m(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,d=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return d=e.done,e},e:function(e){i=!0,o=e},f:function(){try{d||null==t.return||t.return()}finally{if(i)throw o}}}}function g(e){return Array.isArray(e)}function b(r){var t=r.state.date,n=t.calendar,o=t.locale,i=r.customWeekDays,l=r.weekStartDayIndex,u=r.displayWeekNumbers,c=r.weekNumber,s=e.useMemo((function(){var e=i;return g(e)&&e.length>=7?(e.length=7,e=e.map((function(e){return g(e)&e.length>1?e=e[1]:g(e)&&(e=e[0]),e}))):e=new d.default({year:1,calendar:n,locale:o}).weekDays.map((function(e){return e.shortName})),e}),[n,o,i]);return s=p(s).slice(l).concat(p(s).splice(0,l)),a.default.createElement("div",{className:"rmdp-week"},u&&a.default.createElement("div",{className:"rmdp-week-day"},c),s.map((function(e,r){return a.default.createElement("div",{key:r,className:"rmdp-week-day"},e)})))}function v(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e||!r)return!1;if(e.year===r.year){if(n)return!0;if(e.monthIndex===r.monthIndex)return!!t||e.day===r.day}}function x(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY/MM/DD";return e.format(r)}function w(e,r,t){var n=t.multiple,a=t.range,o=t.selectedDate,i=t.onlyMonthPicker,l=t.onlyYearPicker,u=t.format,c=t.focused,s=t.weekPicker;e.setFormat(u);var m=new d.default(e);return[o=n&&a?function(){var e=!0;g(o)||(o=[[o]]);var r=o.find((function(e){return 1===e.length})),t=i?"YYYY/MM":"YYYY/MM/DD",n=o;if(r){var a=r[0];n=n.filter((function(e){if(1===e.length)return!0;var r=f(e,2),n=r[0],o=r[1],d=f([a,m].sort((function(e,r){return e-r})),2),i=f([n,o,d[0],d[1]].map((function(e){return x(e,t)})),4),l=i[0],u=i[1],c=i[2],s=i[3];return!(c<=l&&s>=u||c>=l&&s>=u&&c<=u||c<=l&&s<=u&&s>=l)}))}else n=n.filter((function(e){if(!g(e))return!0;if(0===e.length)return!1;var r=f(e,2),n=f([r[0],r[1],m].map((function(e){return x(e,t)})),3),a=n[0],o=n[1],d=n[2];return!(d>=a&&d<=o)}));n=n.map((function(r){var t;return g(r)?1===r.length?(e=!1,t=r.concat(m)):t=r:(e=!1,t=[r,m]),t.sort((function(e,r){return e-r}))})),e&&(n=[].concat(p(n),[[m]]));return n}():n?function(){var t=o.filter((function(r){return!v(e,r,i,l)}));t.length===o.length?t.push(m):m=t.find((function(e){return v(e,c)}));r&&t.sort((function(e,r){return e-r}));return t}():a?function(){if(s)return[new d.default(m).toFirstOfWeek(),new d.default(m).toLastOfWeek()];if(2===o.length||0===o.length)return[m];if(1===o.length)return[o[0],m].sort((function(e,r){return e-r}))}():m,m]}function k(e,r,t,n){var a=[],o=t?"YYYY/MM":"YYYY/MM/DD",d=x(e,o);function i(r){var n=r[0],i=r[1];if(1===r.length)v(e,n,t)&&a.push("rmdp-range");else if(2===r.length){var l=f([n,i].map((function(e){return x(e,o)})),2),u=l[0],c=l[1];d>=u&&d<=c&&a.push("rmdp-range"),d===u&&a.push("start"),d===c&&a.push("end")}}return n?(g(r)?r:[[r]]).forEach(i):i(r),a.join(" ")}function D(e,r,t,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"day",o=[];if(n&&1===(null==r?void 0:r.length)&&t){var d="day"===a?"YYYY/MM/DD":"YYYY/MM",i=t.format(d),l=r[0].format(d),u=e.format(d);(u>l&&u<=i||u<l&&u>=i)&&(o.push("rmdp-range-hover"),u===i&&o.push(i>l?"end":"start"))}return o}var O;function E(r){var t=r.state,n=r.setState,o=r.onChange,i=r.showOtherDays,s=void 0!==i&&i,p=r.mapDays,m=r.onlyShowInRangeDates,h=r.customWeekDays,y=r.sort,g=r.numberOfMonths,x=r.isRTL,E=r.weekStartDayIndex,Y=r.handleFocusedDate,M=r.hideWeekDays,C=r.fullYear,N=f(r.monthAndYears,1)[0],P=r.displayWeekNumbers,S=r.weekNumber,I=void 0===S?"":S,j=r.rangeHover,T=r.highlightToday,A=e.useRef({}),R=e.useRef(),L=t.today,F=t.minDate,W=t.maxDate,B=t.range,_=t.multiple,V=t.date,z=t.selectedDate,H=t.onlyMonthPicker,q=t.onlyYearPicker,J=!H&&!q,K=f(e.useState(),2),U=K[0],$=K[1],G=_||B?(null==z?void 0:z.length)>0:!!z;A.current.date=V;var Q=e.useMemo((function(){return J?function(e,r,t,n){if(!e)return[];for(var a=[],o=0;o<t;o++){var i=(e=new d.default(e).toFirstOfMonth()).monthIndex,l=[];e.toFirstOfWeek().add(n,"day"),e.monthIndex===i&&e.day>1&&e.subtract(7,"days");for(var u=0;u<6;u++){for(var c=[],s=0;s<7;s++)c.push({date:new d.default(e),day:e.format("D"),current:e.monthIndex===i}),e.day+=1;if(l.push(c),u>2&&e.monthIndex!==i&&!r)break}a.push(l)}return a}(A.current.date,s,g,E):[]}),[V.monthIndex,V.year,V.calendar,V.locale,J,s,g,E]);return J&&a.default.createElement("div",{ref:R,className:"rmdp-day-picker ".concat(C?"rmdp-full-year":""),style:{display:C?"grid":"flex"},onMouseLeave:function(){return j&&$()}},Q.map((function(e,r){return a.default.createElement("div",{key:r,style:u({},x?"marginLeft":"marginRight",r+(C?0:1)<g?"10px":"")},C&&a.default.createElement("div",{className:"rmdp-month-name"},N[r]),!M&&a.default.createElement(b,{state:t,customWeekDays:h,weekStartDayIndex:E,displayWeekNumbers:P,weekNumber:I}),e.map((function(e,i){return a.default.createElement("div",{key:i,className:"rmdp-week"},P&&a.default.createElement("div",{className:"rmdp-day rmdp-disabled"},a.default.createElement("span",null,e[0].date.format("WW"))),e.map((function(e,i){var u=function(e){if(!e.current&&!s)return{};var r={};return p.forEach((function(n){var a,o=n({date:e.date,today:L,currentMonth:t.date.month,selectedDate:t.selectedDate,isSameDate:v});(null===(a=o)||void 0===a?void 0:a.constructor)!==Object&&(o={}),(o.disabled||o.hidden)&&(e.disabled=!0),o.hidden&&(e.hidden=!0),r=l(l({},r),o)})),delete r.disabled,delete r.hidden,r}(e={date:e.date,day:e.day,current:e.current}),h=X(e)&&!e.disabled,b="".concat(h?"sd":""),x=u.children;h&&(b="".concat(b," ").concat(u.className||"")),delete u.className,delete u.children;var E=function(e,r){var t=["rmdp-day"],n=e.date,a=e.hidden,o=e.current;if(!X(e)||a)t.push("rmdp-day-hidden");else{(F&&n<F||W&&n>W||e.disabled)&&(t.push("rmdp-disabled"),e.disabled||(e.disabled=!0)),o||t.push("rmdp-deactive");var d=r>1&&o||1===r;e.disabled&&m||(v(n,L)&&T&&t.push("rmdp-today"),i=n,[].concat(z).some((function(e){return v(e,i)}))&&d&&!B&&t.push("rmdp-selected")),B&&!e.disabled&&d&&(t.push(k(n,z,void 0,_)),_||(t=t.concat(D(n,z,U,j))))}var i;return t.join(" ")}(e,g);(e.hidden||e.disabled)&&(b=b.replace("sd",""));var M=G?E.includes("selected")||E.includes("range"):E.includes("today");return a.default.createElement("div",{key:i,tabIndex:M?0:-1,"aria-label":"Choose ".concat(e.date.format("dddd MMMM DD of YYYY")),className:E,onMouseEnter:function(){return j&&$(e.date)},onKeyDown:function(r){return function(e,r){var a=e.currentTarget,o=e.key,i=e.code,u={ArrowRight:1,ArrowLeft:-1,ArrowUp:-7,ArrowDown:7};if("Space"===i||" "===o)e.preventDefault(),a.click();else if(Object.keys(u).includes(o)){var c=function(e){if(!e)return s();var r=e.getAttribute("class");r.includes("hidden")||r.includes("disabled")?s():e.focus()},s=function(){n(l(l({},t),{},{date:p})),clearTimeout(O),O=setTimeout((function(){return c(Z(p))}),100)};e.preventDefault();var f=u[o],p=new d.default(r.date).add(f,"day"),m=Z(p);c(m)}}(r,e)},onClick:function(){X(e)&&!e.disabled&&function(e,r,n){var a,i,u,c=e.date,s=e.current,p=t.selectedDate,m=t.focused,h=t.date,g=h,b=g.hour,v=g.minute,x=g.second;c.set({hour:(null===(a=p)||void 0===a?void 0:a.hour)||b,minute:(null===(i=p)||void 0===i?void 0:i.minute)||v,second:(null===(u=p)||void 0===u?void 0:u.second)||x}),1!==n||s?n>1&&!s&&(0===r&&c<h&&(h=new d.default(h).toFirstOfMonth()),r>0&&c.monthIndex>h.monthIndex+r&&r+1===n&&(h=new d.default(h).toFirstOfMonth().add(1,"month"))):h=new d.default(h).toFirstOfMonth();var k=f(w(c,y,t),2);p=k[0],m=k[1],o(p,l(l({},t),{},{date:h,focused:m,selectedDate:p})),Y(m,c)}(e,r,g)}},a.default.createElement("span",c({className:b},u),X(e)&&!e.hidden?null!=x?x:e.day:""))})))})))})));function X(e){return!!e.current||s}function Z(e){return R.current.querySelector("[aria-label*='".concat(e.format("dddd MMMM DD of YYYY"),"']"))}}function Y(e){var r=e.direction,t=e.onClick,n=e.disabled;return a.default.createElement("button",{type:"button",className:"rmdp-arrow-container ".concat(r," ").concat(n?"disabled":""),onClick:t,"aria-roledescription":"button to navigate ".concat(r.replace("rmdp-",""))},a.default.createElement("i",{className:"rmdp-arrow"}))}function M(r){var t=r.state,n=r.setState,o=r.disableYearPicker,d=r.disableMonthPicker,i=r.buttons,u=r.renderButton,c=r.handleMonthChange,s=r.disabled,p=r.hideMonth,m=r.hideYear,h=r.isRTL,y=r.fullYear,g=f(r.monthAndYears,2),b=g[0],v=g[1],x=r.monthYearSeparator,w=r.formatMonth,k=r.formatYear,D=r.headerOrder,O={},E=t.date,M=t.onlyMonthPicker,C=t.onlyYearPicker,N=t.mustShowYearPicker,P=t.minDate,S=t.maxDate,I=t.year,j=t.today,T=P&&E.year<=P.year&&P.monthIndex>E.monthIndex-1,A=S&&E.year>=S.year&&S.monthIndex<E.monthIndex+1,R=j.year+7;if(R-=12*Math.floor((R-I)/12),(p||y)&&m&&!i)return null;if((M||y)&&(P&&P.year>=E.year&&(T=!0),S&&S.year<=E.year&&(A=!0)),N||C){var L=R-11;T=P&&P.year>L,A=S&&S.year<R}return s&&(T=!0,A=!0),a.default.createElement("div",{className:"rmdp-header"},a.default.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},Array.from(new Set(D)).map((function(r,t){return a.default.createElement(e.Fragment,{key:t},function(r){switch(r){case"LEFT_BUTTON":return i&&W("left");case"RIGHT_BUTTON":return i&&W("right");case"MONTH_YEAR":case"YEAR_MONTH":if(y)return a.default.createElement("div",{className:"rmdp-header-values",style:O},!m&&E.format("YYYY"));var t=r.split("_").filter((function(e){return"MONTH"===e&&!p||"YEAR"===e&&!m}));return t.length>1&&(t=[t[0],F(),t[1]]),b.map((function(r,n){return a.default.createElement("div",{key:n,className:"rmdp-header-values",style:O},t.map((function(t,i){return a.default.createElement(e.Fragment,{key:i},function(e,r,t){switch(e){case"MONTH":return a.default.createElement("span",{style:{cursor:s||d||M?"default":"pointer"},onClick:function(){return!d&&_("mustShowMonthPicker")}},function(e,r){return"function"==typeof w?w(e,r):e}(r,v[t]));case"YEAR":return a.default.createElement("span",{style:{cursor:s||o||C?"default":"pointer"},onClick:function(){return!o&&_("mustShowYearPicker")}},function(e,r){return"function"==typeof w?k(e,r):e}(v[t],r));default:return e}}(t,r,n))})))}));default:return}}(r))}))));function F(){return x?a.default.createElement("span",null,x):h?"،":","}function W(r){var t=function(e){e.preventDefault(),B("right"===r?1:-1),function(e){setTimeout((function(){var r=e.target.closest(".rmdp-calendar");if(r){var t=r.querySelector("div[tabindex='0']");t&&t.getAttribute("class").includes("hidden")&&(t.setAttribute("tabindex","-1"),t=void 0),t||(t=r.querySelector("div[tabindex='-1']:not(.rmdp-day-hidden)"))&&t.setAttribute("tabindex","0")}}),200)}(e)},n="left"===r&&T||"right"===r&&A;return u instanceof Function?u(r,t,n):e.isValidElement(u)?e.cloneElement(u,{direction:r,handleClick:t,disabled:n}):a.default.createElement(Y,{direction:"rmdp-".concat(r),onClick:t,disabled:n})}function B(e){s||e<0&&T||e>0&&A||(y?E.year+=e:N||C?(I+=12*e,e<0&&P&&I<P.year&&(I=P.year),e>0&&S&&I>S.year&&(I=S.year)):(E.toFirstOfMonth(),M?E.year+=e:(E.month+=e,c(E))),n(l(l({},t),{},{date:E,year:I})))}function _(e){if(!s){var r={mustShowMonthPicker:!1,mustShowYearPicker:!1};r[e]=!t[e],n(l(l({},t),r))}}}function C(e){return g(e)||(e=[]),JSON.stringify(e)}function N(r){var t=r.state,n=r.onChange,o=r.customMonths,i=r.sort,u=r.handleMonthChange,c=r.handleFocusedDate,s=r.rangeHover,p=r.highlightToday,m=r.numberOfMonths,h=t.date,y=t.today,b=t.minDate,x=t.maxDate,O=t.calendar,E=t.locale,Y=t.onlyMonthPicker,M=t.onlyYearPicker,N=t.range,P=t.onlyShowInRangeDates,S=(t.mustShowMonthPicker||Y)&&!M,I=f(e.useState(),2),j=I[0],T=I[1];o=o&&C(o);var A=e.useMemo((function(){var e=[],r=Y?m:1,n=o&&JSON.parse(o),a=new d.default({calendar:O,locale:E,format:t.date._format,year:t.date.year,month:1,day:1});g(n)&&n.length>=12?(n.length=12,n=n.map((function(e){return g(e)?e[0]:e}))):n=a.locale.months.map((function(e){return f(e,1)[0]}));for(var i=0;i<r;i++){for(var l=[],u=0,c=0;c<4;c++){for(var s=[],p=0;p<3;p++)s.push({date:new d.default(a),name:n[u]}),u++,a.add(1,"month");l.push(s)}e.push(l)}return e}),[O,E,o,t.date.year,t.date._format,m,Y]);return a.default.createElement("div",{className:"".concat(Y?"only ":"","rmdp-month-picker"),style:{display:S?"flex":"none"},onMouseLeave:function(){return s&&T()}},A.map((function(e,r){return a.default.createElement("div",{key:r,style:{margin:"0 5px",flex:1}},e.map((function(e,r){return a.default.createElement("div",{key:r,className:"rmdp-ym"},e.map((function(e,r){var t=e.date,n=e.name;return a.default.createElement("div",{key:r,className:L(t),onClick:function(){return R(t)},onMouseEnter:function(){return s&&T(t)}},a.default.createElement("span",{className:Y?"sd":""},n))})))})))})));function R(e){var r=t.selectedDate,a=t.focused,o=e.year,d=e.monthIndex;if(!(b&&o<=b.year&&d<b.monthIndex||x&&o>=x.year&&d>x.monthIndex)){if(h.setMonth(d+1),Y){var s=f(w(e,i,t),2);r=s[0],a=s[1]}else u(h);n(Y?r:void 0,l(l({},t),{},{date:h,focused:a,selectedDate:r,mustShowMonthPicker:!1})),Y&&c(a,e)}}function L(e){var r=["rmdp-day"],n=e.year,a=e.monthIndex,o=t.selectedDate,d=t.multiple;if((b&&(n<b.year||n===b.year&&a<b.monthIndex)||x&&(n>x.year||n===x.year&&a>x.monthIndex))&&r.push("rmdp-disabled"),!r.includes("rmdp-disabled")||!P)return v(y,e,!0)&&p&&r.push("rmdp-today"),Y?N?(r.push(k(e,o,!0,d)),d||(r=r.concat(D(e,o,j,s,"month")))):[].concat(o).some((function(r){return v(r,e,!0)}))&&r.push("rmdp-selected"):h.monthIndex===a&&r.push("rmdp-selected"),r.join(" ")}}function P(e,r){return e.replace(/[0-9]/g,(function(e){return r[e]}))}function S(r){var t=r.state,n=r.onChange,o=r.sort,i=r.handleFocusedDate,u=r.onYearChange,c=r.rangeHover,s=r.highlightToday,p=t.date,m=t.today,h=t.minDate,y=t.maxDate,b=t.onlyYearPicker,v=t.range,x=t.onlyShowInRangeDates,k=t.year,D=t.mustShowYearPicker||b,O=p.digits,E=f(e.useState(),2),Y=E[0],M=E[1],C=m.year-4;C-=12*Math.ceil((C-k)/12);var N=e.useMemo((function(){for(var e=[],r=C,t=0;t<4;t++){for(var n=[],a=0;a<3;a++)n.push(r),r++;e.push(n)}return e}),[C]);return a.default.createElement("div",{className:"".concat(b?"only ":"","rmdp-year-picker"),style:{display:D?"block":"none"}},N.map((function(e,r){return a.default.createElement("div",{key:r,className:"rmdp-ym",onMouseLeave:function(){return c&&M()}},e.map((function(e,r){return a.default.createElement("div",{key:r,className:S(e),onClick:function(){return function(e){if(I(e))return;var r=new d.default(t.date).setYear(e),a=t.selectedDate,c=t.focused;if(b){var s=f(w(r,o,t),2);a=s[0],c=s[1]}else h&&r.monthIndex<h.monthIndex?r=r.setMonth(h.monthIndex+1):y&&r.monthIndex>y.monthIndex&&(r=r.setMonth(y.monthIndex+1)),null==u||u(r);n(b?a:void 0,l(l({},t),{},{date:r,focused:c,selectedDate:a,mustShowYearPicker:!1})),b&&i(c,r)}(e)},onMouseEnter:function(){return c&&M(e)}},a.default.createElement("span",{className:b?"sd":""},P(e.toString(),O)))})))})));function S(e){var r=["rmdp-day"],n=t.date,a=t.selectedDate,o=t.multiple;if(I(e)&&r.push("rmdp-disabled"),!r.includes("rmdp-disabled")||!x){if(m.year===e&&s&&r.push("rmdp-today"),b)if(v){var d=function(t){var n=t[0],a=t[1];if(1===t.length){if(e===n.year&&r.push("rmdp-range"),c){var o=t[0].year;(e>o&&e<=Y||e<o&&e>=Y)&&(r.push("rmdp-range-hover"),e===Y&&r.push(Y>o?"end":"start"))}}else 2===t.length&&(e>=n.year&&e<=a.year&&r.push("rmdp-range"),e===n.year&&r.push("start"),e===a.year&&r.push("end"))};o?(g(a)?a:[[a]]).forEach((function(e){return d(e)})):d(a)}else[].concat(a).some((function(r){return r&&r.year===e}))&&r.push("rmdp-selected");else e===n.year&&r.push("rmdp-selected");return r.join(" ")}}function I(e){return h&&e<h.year||y&&e>y.year}}function I(e,r,t){return t||(e?"MM/YYYY":r?"YYYY":"YYYY/MM/DD")}function j(e,r){return e instanceof d.default?e.setCalendar(r):e=new d.default({date:e,calendar:r}),e}function T(e){"_self"in a.default.createElement("div")&&console.warn(e.join("\n"))}var A=new d.default,R=A.calendar,L=A.locale;function F(e,r){return e&&e.constructor!==Object&&(T(W("calendar")),e=void 0),r&&r.constructor!==Object&&(T(W("locale")),r=void 0),[e||R,r||L]}function W(e){return["".concat(e," must be an object"),"https://shahabyazdi.github.io/react-multi-date-picker/calendars/"]}function B(e){return e&&e.name?e.name.split("_")[1]:""}function _(e){return["fa","ar"].includes(B(e))}function V(e,r){void 0===r&&(r={});var t=r.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}V(".rmdp-wrapper{background-color:#fff;border-radius:5px;direction:ltr;text-align:center;width:max-content}.rmdp-shadow{box-shadow:0 0 5px #8798ad}.rmdp-border{border:1px solid #cfd8e2}.rmdp-calendar{height:max-content;padding:4px}.rmdp-border-top{border-top:1px solid #cfd8e2}.rmdp-border-bottom{border-bottom:1px solid #cfd8e2}.rmdp-border-left{border-left:1px solid #cfd8e2}.rmdp-border-right{border-right:1px solid #cfd8e2}.rmdp-week,.rmdp-ym{display:flex;justify-content:space-between}.rmdp-ym{height:25%}.rmdp-day,.rmdp-week-day{color:#000;cursor:pointer;height:34px;position:relative;width:34px}.rmdp-week-day{color:#0074d9;cursor:default;font-size:13px;font-weight:500}.rmdp-day span,.rmdp-week-day{display:flex;flex-direction:column;justify-content:center}.rmdp-day span{border-radius:50%;bottom:3px;font-size:14px;left:3px;position:absolute;right:3px;top:3px}.rmdp-day.rmdp-today span{background-color:#7fdbff;color:#fff}.rmdp-day.rmdp-selected span:not(.highlight){background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-day.rmdp-deactive,.rmdp-day.rmdp-disabled{color:#8798ad}.rmdp-day.rmdp-deactive.rmdp-selected span{background-color:#4ca6f5;box-shadow:0 0 3px #bac5d3}.rmdp-ym .rmdp-day{flex:1;margin:auto}.rmdp-ym .rmdp-day span{border-radius:12px;padding:2px 0}.rmdp-range{background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-range-hover{background-color:#7ea6f0;color:#fff}.rmdp-range-hover.start,.rmdp-range.start{border-bottom-left-radius:50%;border-top-left-radius:50%}.rmdp-range-hover.end,.rmdp-range.end{border-bottom-right-radius:50%;border-top-right-radius:50%}.rmdp-ym .rmdp-range-hover.start,.rmdp-ym .rmdp-range.start{border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-ym .rmdp-range-hover.end,.rmdp-ym .rmdp-range.end{border-bottom-right-radius:15px;border-top-right-radius:15px}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) span:hover{background-color:#7ea6f0;color:#fff}.rmdp-day-picker{padding:5px}.rmdp-header{font-size:14px;margin-top:5px;padding:9px 0}.rmdp-month-picker,.rmdp-year-picker{background-color:#fff;border-radius:0 0 5px 5px;bottom:2px;left:2px;position:absolute;right:2px;top:2px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:240px;position:static;width:240px}.rmdp-header-values{color:#000;margin:auto}.rmdp-header-values span{padding:0 0 0 5px}.rmdp-arrow{border:solid #0074d9;border-width:0 2px 2px 0;display:inline-block;height:3px;margin-top:5px;padding:2px;width:3px}.rmdp-right i{margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-left i{margin-left:3px;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-left{left:0}.rmdp-right{right:0}.rmdp-arrow-container{background:transparent;border:none;border-radius:50%;cursor:pointer;display:flex;height:20px;justify-content:center;margin:0 5px;padding:0;width:20px}.rmdp-arrow-container:hover{background-color:#0074d9;box-shadow:0 0 3px #8798ad}.rmdp-arrow-container:hover .rmdp-arrow{border:solid #fff;border-width:0 2px 2px 0}.rmdp-arrow-container.disabled{cursor:default}.rmdp-arrow-container.disabled:hover{background-color:inherit;box-shadow:inherit}.rmdp-arrow-container.disabled .rmdp-arrow,.rmdp-arrow-container.disabled:hover .rmdp-arrow{border:solid gray;border-width:0 2px 2px 0}.rmdp-rtl{direction:rtl}.rmdp-rtl .rmdp-left i{margin-left:0;margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-rtl .rmdp-right i{margin-left:3px;margin-right:0;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-rtl .rmdp-right{left:0;right:auto}.rmdp-rtl .rmdp-left{left:auto;right:0}.rmdp-rtl .rmdp-range-hover.start,.rmdp-rtl .rmdp-range.start{border-bottom-left-radius:unset;border-bottom-right-radius:50%;border-top-left-radius:unset;border-top-right-radius:50%}.rmdp-rtl .rmdp-range-hover.end,.rmdp-rtl .rmdp-range.end{border-bottom-left-radius:50%;border-bottom-right-radius:unset;border-top-left-radius:50%;border-top-right-radius:unset}.rmdp-rtl .rmdp-range.start.end{border-radius:50%}.rmdp-rtl .rmdp-ym .rmdp-range-hover.start,.rmdp-rtl .rmdp-ym .rmdp-range.start{border-bottom-right-radius:15px;border-top-right-radius:15px}.rmdp-rtl .rmdp-ym .rmdp-range-hover.end,.rmdp-rtl .rmdp-ym .rmdp-range.end{border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-day-hidden,.rmdp-day.rmdp-disabled{cursor:default}.rmdp-selected .highlight{box-shadow:0 0 3px #8798ad}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-red:hover{background-color:#ff6687}.rmdp-day:not(.rmdp-deactive) .highlight-red{color:#cc0303}.rmdp-day.rmdp-deactive .highlight-red{color:#e08e8e}.rmdp-day.rmdp-selected .highlight-red{background-color:#ea0034;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-red{background-color:#e4b0ba;color:#fff}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-green:hover{background-color:#4db6ac}.rmdp-day:not(.rmdp-deactive) .highlight-green{color:#00796b}.rmdp-day.rmdp-deactive .highlight-green{color:#7ab3ac}.rmdp-day.rmdp-selected .highlight-green{background-color:#009688;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-green{background-color:#749c98;color:#fff}.rmdp-day-hidden,.rmdp-day-hidden:hover span{background-color:unset;color:transparent}.rmdp-month-name{cursor:default;font-size:14px;margin:3px 0}.rmdp-full-year{grid-template-columns:1fr 1fr 1fr}@media (max-height:450px),(max-width:450px){.rmdp-day,.rmdp-week-day{height:28px;width:28px}.rmdp-day span{font-size:12px;padding-left:.5px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:200px;width:230px}.rmdp-header{padding:3px 0 0}.rmdp-header,.rmdp-month-name{font-size:12px}.rmdp-full-year{grid-template-columns:1fr 1fr}}");var z=["datePickerProps","DatePicker"];function H(r,t){var n,o=r.value,i=r.calendar,u=r.locale,p=r.format,m=r.onlyMonthPicker,h=r.onlyYearPicker,y=r.range,b=void 0!==y&&y,v=r.multiple,x=void 0!==v&&v,w=r.className,k=r.role,D=r.weekDays,O=r.months,Y=r.children,j=r.onChange,T=r.showOtherDays,A=r.minDate,R=r.maxDate,L=r.mapDays,W=r.disableMonthPicker,B=r.disableYearPicker,V=r.formattingIgnoreList,H=r.onReady,q=r.onlyShowInRangeDates,U=void 0===q||q,$=r.zIndex,G=void 0===$?100:$,Q=r.plugins,X=void 0===Q?[]:Q,Z=r.sort,ee=r.numberOfMonths,re=void 0===ee?1:ee,te=r.currentDate,ne=r.digits,ae=r.buttons,oe=void 0===ae||ae,de=r.renderButton,ie=r.weekStartDayIndex,le=void 0===ie?0:ie,ue=r.disableDayPicker,ce=r.onPropsChange,se=r.onMonthChange,fe=r.onYearChange,pe=r.onFocusedDateChange,me=r.readOnly,he=r.disabled,ye=r.hideMonth,ge=r.hideYear,be=r.hideWeekDays,ve=r.shadow,xe=void 0===ve||ve,we=r.fullYear,ke=r.displayWeekNumbers,De=r.weekNumber,Oe=r.weekPicker,Ee=r.rangeHover,Ye=r.monthYearSeparator,Me=r.formatMonth,Ce=r.formatYear,Ne=r.highlightToday,Pe=void 0===Ne||Ne,Se=r.headerOrder,Ie=void 0===Se?["LEFT_BUTTON","MONTH_YEAR","RIGHT_BUTTON"]:Se,je=r.style,Te=void 0===je?{}:je;!te||te instanceof d.default||(console.warn("currentDate must be instance of DateObject"),te=void 0),("number"!=typeof le||le<0||le>6)&&(le=0),("number"!=typeof re||re<1||h)&&(re=1),!(x||b||g(o))||b||x||(x=!0),Oe&&(b=!0,x=!1),we&&(re=12,m=!1,h=!1),h&&!ye&&(ye=!0);var Ae=F(i,u),Re=f(Ae,2);i=Re[0],u=Re[1],p=I(m,h,p),V=C(V),L=[].concat(L).filter(Boolean),X=[].concat.apply([],X);var Le=e.useState({}),Fe=f(Le,2),We=Fe[0],Be=Fe[1],_e={},Ve=e.useRef({mustCallOnReady:!0,currentDate:te});e.useEffect((function(){Be((function(e){var r=Ve.current.currentDate,t=e.date,n=e.selectedDate,a=e.initialValue,c=e.focused,s=e.mustSortDates;function f(e){if(e)return e.calendar.name!==i.name&&e.setCalendar(i),e.locale.name!==u.name&&e.setLocale(u),e._format!==p&&e.setFormat(p),e.digits=ne,e.ignoreList=JSON.parse(V),e}function y(e){return new d.default(r||e)}if(o)if(g(n=K(o,i,u,p)))t||(t=y(n.flat()[0]));else if(t&&1!==re){var v=new d.default(t).toFirstOfMonth(),w=new d.default(t).add(re-1,m?"years":"months").toLastOfMonth();(n<v||n>w)&&(t=new d.default(n))}else t=y(n);else t||(t=y({calendar:i,locale:u,format:p})),a&&(n=void 0);if([].concat(n).flat().forEach(f),f(t),x||b||g(o)){if(n||(n=[]),g(n)||(n=x&&b?[[n]]:[n]),b&&!x&&n.length>2){var k=n[n.length-1];n=[n[0],k],c=k}x&&!b&&Z&&!s?(s=!0,n.sort((function(e,r){return e-r}))):b&&!x&&n.sort((function(e,r){return e-r}))}else g(n)&&(n=n.flat()[n.length-1]);return we&&t.toFirstOfYear(),delete Ve.current.currentDate,l(l({},e),{},{date:t,selectedDate:n,multiple:x,range:b,onlyMonthPicker:m,onlyYearPicker:h,initialValue:e.initialValue||o,value:o,focused:c,calendar:i,locale:u,format:p,mustSortDates:s,year:t.year,today:f(e.today)||new d.default({calendar:i}),weekPicker:Oe})}))}),[o,i,u,p,m,h,b,x,Z,re,ne,V,we,Oe]),e.useEffect((function(){(A||R)&&Be((function(e){var r=e.calendar,t=e.locale,n=e.format,a=f(J(K(o,r,t,n),A,R,r),3),d=a[0],i=a[1],u=a[2];return l(l({},e),{},{inRangeDates:U?d:e.selectedDate,minDate:i,maxDate:u})}))}),[A,R,U,o]),We.today&&!Ve.current.isReady&&(Ve.current.isReady=!0),e.useEffect((function(){Ve.current.isReady&&Ve.current.mustCallOnReady&&H instanceof Function&&(Ve.current.mustCallOnReady=!1,H())}),[Ve.current.isReady,H]);var ze="rmdp-top-class "+tr(["top","bottom"]),He={top:[],bottom:[],left:[],right:[]},qe=_(null===(n=We.date)||void 0===n?void 0:n.locale),Je={state:We,setState:Be,onChange:Xe,sort:Z,handleFocusedDate:er,isRTL:qe,fullYear:we,monthAndYears:or(),rangeHover:Ee,highlightToday:Pe,numberOfMonths:re},Ke=arguments[0],Ue=Ke.datePickerProps,$e=Ke.DatePicker,Ge=s(Ke,z);return Qe(),We.today?a.default.createElement("div",{ref:ar,role:k||"dialog",className:"rmdp-wrapper rmdp-".concat(xe?"shadow":"border"," ").concat(w||""),style:l({zIndex:G},Te)},He.top,a.default.createElement("div",{style:{display:"flex"},className:ze},He.left,!ue&&a.default.createElement("div",{className:"rmdp-calendar ".concat(qe?"rmdp-rtl":""," ").concat(tr(["left","right"]))},a.default.createElement(M,l(l({},Je),{},{disableYearPicker:B,disableMonthPicker:W,buttons:oe,renderButton:de,handleMonthChange:rr,disabled:he,hideMonth:ye,hideYear:ge,monthYearSeparator:Ye,formatMonth:Me,formatYear:Ce,headerOrder:Ie})),a.default.createElement("div",{style:{position:"relative"}},a.default.createElement(E,l(l({},Je),{},{showOtherDays:T,mapDays:L,onlyShowInRangeDates:U,customWeekDays:D,weekStartDayIndex:le,hideWeekDays:be,displayWeekNumbers:ke,weekNumber:De})),!we&&a.default.createElement(a.default.Fragment,null,!W&&a.default.createElement(N,c({},Je,{customMonths:O,handleMonthChange:rr})),!B&&a.default.createElement(S,c({},Je,{onYearChange:fe}))))),He.right),He.bottom,Y):null;function Qe(){if(Ve.current.isReady&&g(X)){var r={state:We,setState:Be,registerListener:nr,calendarProps:Ge,datePickerProps:Ue,handleChange:Xe,Calendar:Ve.current.Calendar,DatePicker:$e,handlePropsChange:Ze,handleFocusedDate:function(e){return er(e)}},t=function(e){return ue?"bottom":e.props.position||"right"};X.forEach((function(n,a){if("string"!=typeof n.type){var o={},d=t(n);if(He[d]&&!n.props.disabled){for(var i=0;i<X.length;i++)if("string"!=typeof X[i].type&&!X[i].props.disabled){if(4===Object.keys(o).length)break;var u=t(X[i]);["top","bottom"].includes(d)?(u===d&&i>a&&(o.bottom=!0),u===d&&i<a&&(o.top=!0)):(ze.includes("border-top")&&(o.top=!0),ze.includes("border-bottom")&&(o.bottom=!0),u===d&&i>a&&(o.right=!0),u===d&&i<a&&(o.left=!0))}He[d].push(e.cloneElement(n,l({key:a,position:d,nodes:o},r)))}}else"mapDays"===n.type&&L.push(n.fn(r))}))}}function Xe(e,r){if(e instanceof d.default&&(e=new d.default(e)),!he){if(e||null===e){if(me)return;_e.change&&_e.change.forEach((function(r){return r(e)}))}if(e||null===e){var t=null==j?void 0:j(e);r&&!1!==t&&Be(r)}else r&&Be(r);Ze({value:e})}}function Ze(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!me&&!he){var t=l(l(l(l({},Ge),Ue),r),{},{value:null!==(e=r.value)&&void 0!==e?e:We.selectedDate});delete t.onPropsChange,null==ce||ce(t)}}function er(e,r){me||he||null==pe||pe(e,r)}function rr(e){null==se||se(e)}function tr(e){return ue||!g(X)?"":Array.from(new Set(X.map((function(r){if(!r.props)return"";var t=r.props.position||"right";return e.includes(t)&&!r.props.disabled?"rmdp-border-"+t:""})))).join(" ")}function nr(e,r){_e[e]||(_e[e]=[]),_e[e].push(r)}function ar(e){if(e&&(e.date=We.date,e.set=function(e,r){he||Be(l(l({},We),{},{date:new d.default(We.date.set(e,r))}))}),Ve.current.Calendar=e,t instanceof Function)return t(e);t&&(t.current=e)}function or(){var e=We.date;if(!e)return[];for(var r=[],t=[],n=e.digits,a=0;a<re;a++){var o=void 0,d=e.year,i=e.monthIndex+a;if(m&&(d+=a),i>11&&(i-=12,m||d++),g(O)&&O.length>=12){var l=O[i];o=g(l)?l[0]:l}else o=e.months[i].name;d=P(d.toString(),n),r.push(o),t.push(d)}return[r,t]}}var q=e.forwardRef(H);function J(e,r,t,n){return r&&(r=j(r,n).set({hour:0,minute:0,second:0,millisecond:0})),t&&(t=j(t,n).set({hour:23,minute:59,second:59,millisecond:999})),g(e)&&(e=e.filter((function(e){return!(r&&e<r)&&!(t&&e>t)}))),[e,r,t]}function K(e,r,t,n){var a=[].concat(e).map((function(e){return g(e)?e.map(o).filter(i):o(e)})).filter(i);return g(e)?a:a.flat()[0];function o(e){return e?e instanceof d.default?e:new d.default({date:e,calendar:r,locale:t,format:n}):{}}function i(e){return g(e)||e.isValid}}V('.rmdp-visible{visibility:visible}.rmdp-invisible{visibility:hidden}.rmdp-input{border:1px solid #c0c4d6;border-radius:5px;height:22px;margin:1px 0;padding:2px 5px}.rmdp-input:focus{border:1px solid #a4b3c5;box-shadow:0 0 2px #a4b3c5;outline:none!important}.rmdp-button{background-color:#0074d9;border:none;border-radius:5px;color:#fff;cursor:pointer;display:inline-block;padding:7px 16px;text-align:center;text-decoration:none;transition:.3s}.rmdp-button:hover{background-color:#143ac5;transition:.4s}.rmdp-button:disabled{background-color:#8798ad}.rmdp-action-button{border-radius:unset;color:#2682d3;float:right;font-weight:700;margin:15px 10px 15px 0}.rmdp-action-button,.rmdp-action-button:hover{background-color:transparent}.rmdp-ep-arrow{overflow:hidden;will-change:transform}.rmdp-ep-arrow:after{background-color:#fff;content:"";height:12px;position:absolute;transform:rotate(45deg);width:12px}.rmdp-ep-shadow:after{box-shadow:0 0 6px #8798ad}.rmdp-ep-border:after{border:1px solid #cfd8e2}.rmdp-ep-arrow[direction=top]{border-bottom:1px solid #fff}.rmdp-ep-arrow[direction=left]{border-right:1px solid #fff}.rmdp-ep-arrow[direction=right]{border-left:1px solid #fff;margin-left:-1px}.rmdp-ep-arrow[direction=bottom]{border-top:1px solid #fff;margin-top:-1.5px}.rmdp-ep-arrow[direction=top]:after{left:4px;top:5px}.rmdp-ep-arrow[direction=bottom]:after{left:4px;top:-6px}.rmdp-ep-arrow[direction=left]:after{left:5px;top:3px}.rmdp-ep-arrow[direction=right]:after{left:-6px;top:3px}');var U=["value","calendar","locale","format","onlyMonthPicker","onlyYearPicker","onChange","range","multiple","name","id","title","placeholder","required","style","className","inputClass","disabled","render","weekDays","months","children","inputMode","scrollSensitive","hideOnScroll","minDate","maxDate","formattingIgnoreList","containerClassName","calendarPosition","editable","onOpen","onClose","arrowClassName","zIndex","arrow","fixMainPosition","onPositionChange","onPropsChange","digits","readOnly","shadow","onFocusedDateChange","type","weekPicker","mobileLabels","onOpenPickNewDate","mobileButtons","dateSeparator","multipleRangeSeparator","typingTimeout"],$=["label"];function G(r,t){var n=r.value,i=r.calendar,u=r.locale,p=r.format,m=r.onlyMonthPicker,h=r.onlyYearPicker,b=r.onChange,v=r.range,x=void 0!==v&&v,w=r.multiple,k=void 0!==w&&w,D=r.name,O=r.id,E=r.title,Y=r.placeholder,M=r.required,N=r.style,S=void 0===N?{}:N,j=r.className,T=void 0===j?"":j,A=r.inputClass,R=r.disabled,L=r.render,W=r.weekDays,V=r.months,z=r.children,H=r.inputMode,J=r.scrollSensitive,K=void 0===J||J,G=r.hideOnScroll,Q=r.minDate,ee=r.maxDate,re=r.formattingIgnoreList,te=r.containerClassName,ne=void 0===te?"":te,ae=r.calendarPosition,oe=void 0===ae?"bottom-left":ae,de=r.editable,ie=void 0===de||de,le=r.onOpen,ue=r.onClose,ce=r.arrowClassName,se=void 0===ce?"":ce,fe=r.zIndex,pe=void 0===fe?100:fe,me=r.arrow,he=void 0===me||me,ye=r.fixMainPosition,ge=r.onPositionChange,be=r.onPropsChange,ve=r.digits,xe=r.readOnly,we=r.shadow,ke=void 0===we||we,De=r.onFocusedDateChange,Oe=r.type,Ee=r.weekPicker,Ye=r.mobileLabels,Me=r.onOpenPickNewDate,Ce=void 0===Me||Me,Ne=r.mobileButtons,Pe=void 0===Ne?[]:Ne,Se=r.dateSeparator,Ie=r.multipleRangeSeparator,je=void 0===Ie?",":Ie,Te=r.typingTimeout,Ae=void 0===Te?700:Te,Re=s(r,U),Le=e.useState(),Fe=f(Le,2),We=Fe[0],Be=Fe[1],_e=e.useState(),Ve=f(_e,2),ze=Ve[0],He=Ve[1],qe=e.useState(""),Je=f(qe,2),Ke=Je[0],Ue=Je[1],$e=e.useState(!1),Ge=f($e,2),Qe=Ge[0],Xe=Ge[1],Ze=e.useState(!1),er=f(Ze,2),rr=er[0],tr=er[1],nr=e.useRef(),ar=e.useRef(),or=e.useRef(),dr=e.useRef({isTyping:!1}),ir=Se||(x||Ee?" ~ ":", "),lr=arguments[0],ur=gr(),cr=e.useCallback((function(){if(!1!==(null==ue?void 0:ue())){var e=Z(ar);if(e&&e.forEach((function(e){return e.blur()})),dr.current.mobile){var r=or.current.parentNode.parentNode;r.classList.remove("rmdp-calendar-container-mobile"),r.style.position="absolute",r.style.visibility="hidden"}Xe(!1),tr(!1)}}),[ue]),sr=[{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){He(void 0),cr()},label:vr("CANCEL")},{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){ze&&(kr(ze,!0),He(void 0)),cr()},label:vr("OK")}];ur&&!dr.current.mobile&&(dr.current=l(l({},dr.current),{},{mobile:!0})),!ur&&dr.current.mobile&&(dr.current=l(l({},dr.current),{},{mobile:!1})),re=C(re),p=I(m,h,p);var fr=F(i,u),pr=f(fr,2);return i=pr[0],u=pr[1],e.useEffect((function(){function e(e){if(Qe&&!dr.current.mobile){var r=[];if([ar.current,or.current].forEach((function(t){var n,a,o;!t||t.contains(e.target)||e.target.classList.contains("b-deselect")||null!==(n=e.target.parentNode)&&void 0!==n&&null!==(a=n.classList)&&void 0!==a&&null!==(o=a.contains)&&void 0!==o&&o.call(a,"b-deselect")||r.push(t)})),2===r.length)return cr();or.current&&or.current.contains(e.target)&&(nr.current.removeTransition(),nr.current.refreshPosition())}}function r(){G&&Qe&&cr()}return document.addEventListener("click",e,!1),document.addEventListener("scroll",r,!0),function(){document.removeEventListener("click",e,!1),document.removeEventListener("scroll",r,!0)}}),[cr,t,Qe,G]),e.useEffect((function(){var e=n,r=dr.current,t=r.date,a=r.initialValue,o=function(){return e[e.length-1]};function c(e){if(e)return e instanceof d.default||(e=new d.default({date:e,calendar:i,locale:u,format:p})),e.calendar!==i&&e.setCalendar(i),e.set({weekDays:W,months:V,digits:ve,locale:u,format:p,ignoreList:JSON.parse(re)}),e}n||a||!t?a&&!n&&(a=void 0):e=t;var s="";if(x||k||g(e)){var m=function(e){return e=e.map(c).filter((function(e){return void 0!==e})),x&&e.length>2&&(e=[e[0],o()]),[e,X(e,ir)]};if(g(e)||(e=x&&k?e?[[e]]:[]:[e]),k&&x)e=e.map((function(r,t){var n=f(m(g(r)?r:[r]),2),a=n[0],o=n[1];return s+=o+(t<e.length-1?" ".concat(je," "):""),a}));else{var h=f(m(e),2);e=h[0],s=h[1]}s=s.toString().replace(/\s,\s$/,"")}else g(e)&&(e=o()),(e=c(e))&&(s=e.format());dr.current.isTyping||Ue(s),dr.current=l(l({},dr.current),{},{date:e,separator:ir,initialValue:a||n}),dr.current.mobile&&nr.current.isOpen?He(e):Be(e)}),[n,i,u,p,x,k,ir,m,h,W,V,ve,re]),e.useEffect((function(){var e=dr.current.selection;if(e){var r=Z(ar);0!==r.length&&(r.forEach((function(r){document.activeElement===r&&(r.setSelectionRange(e,e),dr.current.selection=void 0)})),nr.current.refreshPosition())}}),[Ke]),(k||x||g(We)||!ie)&&(H="none"),a.default.createElement(o.default,c({ref:mr,element:hr(),popper:Qe&&yr(),active:!ur&&rr,position:oe,arrow:!ur&&he,fixMainPosition:!K||ye,zIndex:pe,onChange:!ur&&ge,containerClassName:"rmdp-container ".concat(ne),arrowClassName:["rmdp-ep-arrow","rmdp-ep-".concat(ke?"shadow":"border"),T,se].join(" ")},Re));function mr(e){if(e&&(e.openCalendar=function(){return setTimeout((function(){return xr()}),10)},e.closeCalendar=cr,e.isOpen=Qe&&rr),nr.current=e,t instanceof Function)return t(e);t&&(t.current=e)}function hr(){return L?a.default.createElement("div",{ref:ar},e.isValidElement(L)?e.cloneElement(L,{value:Ke,openCalendar:xr,onFocus:xr,handleValueChange:Dr,onChange:Dr,locale:u,separator:ir}):L instanceof Function?L(Ke,xr,Dr,u,ir):null):a.default.createElement("input",{ref:ar,type:Oe||"text",name:D,id:O,title:E,required:M,onFocus:xr,className:A||"rmdp-input",placeholder:Y,value:Ke,onChange:Dr,style:S,autoComplete:"off",disabled:!!R,inputMode:H||(ur?"none":void 0),readOnly:xe})}function yr(){return a.default.createElement(q,c({ref:or,value:ze||We,onChange:kr,range:x,multiple:k,calendar:i,locale:u,format:p,onlyMonthPicker:m,onlyYearPicker:h,className:T+(ur?" rmdp-mobile":""),weekDays:W,months:V,digits:ve,minDate:Q,maxDate:ee,formattingIgnoreList:JSON.parse(re),onPropsChange:be,shadow:ke,onReady:Or,DatePicker:nr.current,datePickerProps:lr,onFocusedDateChange:Er,weekPicker:Ee},Re),z,ur&&br())}function gr(){return"string"==typeof T&&T.includes("rmdp-mobile")}function br(){var e=[].concat.apply([],lr.plugins||[]).some((function(e){var r=e.props;return!(void 0===r?{}:r).disabled}));return g(Pe)&&a.default.createElement("div",{className:"rmdp-action-buttons ".concat(_(u)?"rmdp-rtl":""," ").concat(e?"rmdp-border-top":"")},Pe.concat(sr).map((function(e,r){var t=e.label,n=s(e,$);return a.default.createElement("button",c({key:r},n),t)})))}function vr(e){var r,t=u||(new d.default).locale;if("string"!=typeof t.name)return e;return(null==Ye?void 0:Ye[e])||(null===(r={en:{OK:"OK",CANCEL:"CANCEL"},fa:{OK:"تأیید",CANCEL:"لغو"},ar:{OK:"تأكيد",CANCEL:"الغاء"},hi:{OK:"पुष्टि",CANCEL:"रद्द करें"}}[B(t)])||void 0===r?void 0:r[e])||e}function xr(){if(!R&&!xe&&!1!==(null==le?void 0:le())){if(wr()){var e=new d.default({calendar:i,locale:u,format:p,months:V,weekDays:W,digits:ve,ignoreList:JSON.parse(re)});(!Q||e>Q)&&(!ee||e<ee)&&(kr(e),null==be||be(l(l({},lr),{},{value:e})),dr.current.date=e)}var r=Z(ar);ur&&r.length>0&&r.forEach((function(e){return e.blur()})),r.length>0||!Qe?Xe(!0):cr()}}function wr(){return Ce&&!n&&!dr.current.date&&!x&&!k&&!ur}function kr(e,r,t){if(ur&&!r)return He(e);var n="";if(e&&(n=k&&x&&g(e)?e.map((function(e){return X(e,ir)})).join(" ".concat(je," ")):X(e,ir)),!1===(null==b?void 0:b(e,{validatedValue:n,input:ar.current,isTyping:!!t})))return Ue(Ke),!1;Be(e),Ue(t||n.toString().replace(/\s,\s$/,"")),dr.current=l(l({},dr.current),{},{date:e})}function Dr(e){if(ie){dr.current.isTyping=!0,setTimeout((function(){dr.current.isTyping=!1}),Ae),dr.current.selection=e.target.selectionStart;var r=e.target.value,t={calendar:i,locale:u,format:p,ignoreList:JSON.parse(re)};if(ve=g(ve)?ve:u.digits,!r)return Ue(""),kr(null);if(ve){var n,a,o=y(ve);try{for(o.s();!(n=o.n()).done;){var c=n.value;r=r.replace(new RegExp(c,"g"),ve.indexOf(c))}}catch(e){o.e(e)}finally{o.f()}a=g(We)?k&&x?(r||"").split(je).filter(Boolean).map(f):f(r):s(r),kr(g(We)||a.isValid?a:null,void 0,P(r,ve))}}function s(e){return/(?=.*Y)(?=.*M)(?=.*D)/.test(p)?new d.default(l(l({},t),{},{date:e})):new d.default(t).parse(e)}function f(e){return(e||"").split(ir).filter(Boolean).map((function(e){return s(e.trim())}))}}function Or(){if(tr(!0),ur){var e=or.current.parentNode.parentNode;e.className="rmdp-calendar-container-mobile",e.style.position="fixed",e.style.transform="",setTimeout((function(){e.style.visibility="visible"}),50)}}function Er(e,r){g(dr.current.date)||!r||ur||cr(),null==De||De(e,r)}}var Q=e.forwardRef(G);function X(e,r){var t=[].concat(e).map((function(e){return null!=e&&e.isValid?e.format():""}));return t.toString=function(){return this.filter(Boolean).join(r)},t}function Z(e){return e.current?"INPUT"===e.current.tagName?[e.current]:Array.from(e.current.querySelectorAll("input")):[]}Object.defineProperty(exports,"DateObject",{enumerable:!0,get:function(){return d.default}}),exports.Calendar=q,exports.default=Q,exports.getAllDatesInRange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(e))return[];var t=e[0],n=e[e.length-1],a=[];if(!(t instanceof d.default&&n instanceof d.default&&t.isValid&&n.isValid&&!(t>n)))return[];for(t=new d.default(t),n=new d.default(n);t<=n;t.day++)a.push(r?t.toDate():new d.default(t));return a},exports.toDateObject=j;
